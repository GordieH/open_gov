<!DOCTYPE html>
<html lang = "en-US">
 <head>
 <meta charset = "UTF-8">
 <title>textBoxes.html</title>
 <script type = "text/javascript" 
         src = "https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js">
      </script>
		
<script type = "text/javascript" language = "javascript">

//   const getReps = async (name) => {
//     const response = await fetch('http://0.0.0.0:8080/localReps?address='+name);
//     const myJson = await response.json()
//     return myJson
// }
  // const getReps = async () => {
  //   var txtName = document.getElementById("txtName");
  //   var txtOutput = document.getElementById("txtOutput");
  //   var name = txtName.value;
  //   document.getElementById("response").innerHTML = name
  // }
    

  // $(document).ready(function() {
  //   console.log('loading')
  //   $("#submit").click(function () {
  //     var txtName = document.getElementById("txtName");
  //     var txtOutput = document.getElementById("txtOutput");
  //     var name = txtName.value;
  //     var FlickerAPI = 'http://0.0.0.0:8080/localReps?address='+name
  //     console.log("running")
  //   $.getJSON( FlickerAPI)
  //     .done(function( data ) {
  //       console.log("data")
  //       $("#response").html(data[0]);
  //     });
  //   })
  // });

  $(document).ready(function() {
    $("#submit").click(function () {
      var name = document.getElementById("txtName").value;
      var APICall = 'http://0.0.0.0:8080/localReps?address='+name
      console.log(APICall)
      $.getJSON(APICall, function(event){
        console.log(event.representatives[3].Name)
        $("#senator1").html(event.representatives[2].Name)
        $("#senator2").html(event.representatives[3].Name)
      })
    })
  });



  // from textBoxes.html
  // function sayHi(){
  // var txtName = document.getElementById("txtName");
  // var txtOutput = document.getElementById("txtOutput");
  // var name = txtName.value;

  // document.getElementById("response").innerHTML = getReps(name)
  // } // end sayHi
 </script>


 <link rel = "stylesheet"
   type = "text/css"
   href = "textBoxes.css" />
 </head>
 <body>
 <h1>Find Your Local Officials</h1>
 <form action = "">
  <fieldset>
  <label>Type your name: </label>
  <input type = "text"
    id = "txtName" />
  <input type = "button"
    name = "submit"
    value = "click me"
    id = "submit"/>
  <input type = "text"
    id = "txtOutput" />
  </fieldset>
 </form>
 <p id="senator1"></p>
 <p id="senator2"></p>
 </body>
</html>